import { ACTIONS } from '../utils/enums.js'

let initial_state = {
    equipment: {},
    inventory_free_slots: 0,
    inventory_max_slots: 0,
    server_info: {},
    clients: [],
    inventory: [],

    selected_client_id: -1,
    character_status: {
    },
    instances_list: [],
    hack_status: {},
    pickup_filter: []
}

function receivePacketsReducer(state = initial_state, action){
    switch (action.type){
        case ACTIONS.SET_METIN_CLIENTS: {
            return Object.assign({}, state, {
                clients: action.payload
             })
        }
        case ACTIONS.SELECT_CLIENT: {
            return Object.assign({}, state, {
                selected_client_id: action.payload.id,
             })
        }
        case ACTIONS.UNSELECT_CLIENT: {
            return Object.assign({}, state, {
                selected_client_id: -1,
             })
        }
        case ACTIONS.SET_CHARACTER_STATUS: {
            //console.log(action.payload)
            return Object.assign({}, state, {
                character_status: action.payload
             }) 
        }
        case ACTIONS.SET_INSTANCES_LIST: {
            return Object.assign({}, state, {
                instances_list: action.payload
             }) 
        }
        case ACTIONS.SET_HACK_STATUS:{
            return Object.assign({}, state, {
                hack_status: action.payload
             })        
        }
        case ACTIONS.SET_FULL_SERVER_STATUS:{
            return Object.assign({}, state, {
                server_info: action.payload
             })    
        }
        case ACTIONS.SET_INVENTORY_STATUS:{
            return Object.assign({}, state, {
                inventory: action.payload.Inventory,
                equipment: action.payload.Equipment,
                inventory_free_slots: action.payload.FreeSlots,
                inventory_max_slots: action.payload.MaxInventorySize,
                
             })               
        }
        case ACTIONS.SET_PICKUP_FILTER:{
            //console.log(action.payload)
            return Object.assign({}, state, {
                pickup_filter: action.payload.PickupFilter
             })               
        }
        default:
            return state
    }
}

export default receivePacketsReducer